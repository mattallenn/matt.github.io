<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Matthew Allen | Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Press Start 2P', cursive;
            background: #0a0a0f;
            color: #e0e0e0;
            line-height: 1.8;
            overflow-x: hidden;
            position: relative;
        }

        /* Starfield background */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 100%);
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 10%, black 100%);
        }

        /* Animated gradient overlay */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at center, rgba(20, 20, 40, 0.3) 0%, rgba(10, 10, 15, 0.8) 100%);
            pointer-events: none;
            z-index: -1;
        }

        a {
            color: #64ffda;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        a:hover {
            color: #00d9ff;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.5);
        }

        header {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem;
            background: rgba(10, 10, 15, 0.85);
            backdrop-filter: blur(10px);
            border-bottom: 2px solid rgba(100, 255, 218, 0.2);
            z-index: 100;
            transition: all 0.3s ease;
        }

        header.scrolled {
            padding: 1rem;
            background: rgba(10, 10, 15, 0.95);
        }

        nav {
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }

        nav a {
            font-size: 0.65rem;
            padding: 0.5rem 1rem;
            position: relative;
            transition: all 0.3s ease;
        }

        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #64ffda;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        nav a:hover::after {
            width: 100%;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            padding-top: 100px;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4rem 0;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            text-align: center;
            color: #64ffda;
            text-shadow: 0 0 20px rgba(100, 255, 218, 0.5);
            letter-spacing: 0.1em;
        }

        h2 {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            color: #64ffda;
            text-shadow: 0 0 15px rgba(100, 255, 218, 0.3);
            border-bottom: 2px solid rgba(100, 255, 218, 0.3);
            padding-bottom: 1rem;
            letter-spacing: 0.05em;
        }

        p,
        li {
            font-size: 0.65rem;
            color: #b0bec5;
            line-height: 1.8;
        }

        .subtitle {
            text-align: center;
            color: #00d9ff;
            font-size: 0.7rem;
            margin-top: 1rem;
            text-shadow: 0 0 10px rgba(0, 217, 255, 0.5);
        }

        .projects-grid {
            display: grid;
            /* This change forces exactly 2 columns of equal width */
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            margin-top: 2rem;
        }

        .project-card {
            background: rgba(20, 20, 30, 0.6);
            padding: 1.5rem;
            border-radius: 8px;
            border: 2px solid rgba(100, 255, 218, 0.2);
            display: block;
            transition: all 0.4s ease;
            transform-style: preserve-3d;
            position: relative;
            overflow: hidden;
        }

        .project-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(100, 255, 218, 0.1) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .project-card:hover::before {
            opacity: 1;
        }

        .project-card:hover {
            transform: translateY(-10px);
            border-color: #64ffda;
            box-shadow: 0 10px 30px rgba(100, 255, 218, 0.3);
        }

        .project-card img {
            width: 100%;
            border-radius: 5px;
            margin-bottom: 1rem;
            border: 1px solid rgba(100, 255, 218, 0.3);
            transition: all 0.3s ease;
        }

        .project-card:hover img {
            box-shadow: 0 0 20px rgba(100, 255, 218, 0.4);
        }

        .project-title {
            font-size: 0.8rem;
            margin-bottom: 1rem;
            color: #64ffda;
            line-height: 1.4;
        }

        .hobbies-list {
            list-style: none;
            padding: 0;
        }

        .hobbies-list li {
            padding: 1rem;
            margin-bottom: 1rem;
            background: rgba(20, 20, 30, 0.6);
            border-left: 3px solid #64ffda;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .hobbies-list li:hover {
            background: rgba(30, 30, 40, 0.8);
            transform: translateX(10px);
            border-left-color: #00d9ff;
        }

        .contact-info {
            text-align: center;
            font-size: 0.65rem;
            line-height: 2.5;
        }

        footer {
            text-align: center;
            padding: 2rem;
            border-top: 2px solid rgba(100, 255, 218, 0.2);
            color: #64ffda;
            font-size: 0.6rem;
            margin-top: 4rem;
        }

        .github-corner {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 101;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.2rem;
            }

            h2 {
                font-size: 1rem;
            }

            nav {
                gap: 1rem;
            }

            nav a {
                font-size: 0.5rem;
                padding: 0.5rem;
            }

            .projects-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <canvas id="starfield"></canvas>

    <a href="https://github.com/mattallenn" class="github-corner" aria-label="View source on GitHub">
        <svg width="80" height="80" viewBox="0 0 250 250"
            style="fill:#64ffda; color:#0a0a0f; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z" />
            <path
                d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
                fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm" />
            <path
                d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
                fill="currentColor" class="octo-body" />
        </svg>
    </a>

    <header id="header">
        <nav>
            <a href="#home">HOME</a>
            <a href="#projects">PROJECTS</a>
            <a href="#hobbies">HOBBIES</a>
            <a href="#about">ABOUT</a>
            <a href="#contact">CONTACT</a>
        </nav>
    </header>

    <main>
        <section id="home" aria-label="Introduction">
            <h1>MATTHEW ALLEN</h1>
            <p class="subtitle">[ MECHATRONICS STUDENT | BUILDER | CREATOR ]</p>
        </section>

        <section id="projects" aria-label="Projects">
            <h2>&gt; PROJECTS_</h2>
            <div class="projects-grid">
                <a href="polaris.html" class="project-card" aria-label="Polaris">
                    <img src="images/polaris-cad.jpg" alt="Polaris launchpad" loading="lazy" />
                    <h3 class="project-title">POLARIS - ACTIVELY STABILIZED LAUNCHPAD</h3>
                    <p>
                        Lead Software Engineer at Purdue Orbital. Developing Polaris, a cold-gas thruster system designed to actively stabilize rocket launchpads before launch. Developed guidance, navigation, and control software integrating electrical components, including an RP2040 microcontroller interfacing with sensors and solenoids. Worked on PID control algorithms to counteract air disturbances, tuning through ground tests. Currently engineering a flight-weight system.
                    </p>
                </a>

                <a href="chessmate.html" class="project-card" aria-label="ChessMate">
                    <img src="images/Chessmate.jpeg" alt="Chess Robot" loading="lazy" />
                    <h3 class="project-title">CHESSMATE - ROBOTIC CHESS OPPONENT</h3>
                    <p>
                        Designing a robotic chessboard capable of online gameplay against humans and a locally ran chess engine. Integrated mechanical design with custom 3D-printed indexed chess pieces and a mechanical gripper. Developed software in Python to generate G-Code, scrape online chess platforms, and interface with Arduino for piece manipulation. Future goals include full online integration, computer vision for piece tracking, and a custom robotic arm gantry system.
                    </p>
                </a>

                <a href="keyboard.html" class="project-card" aria-label="Keyboard">
                    <img src="images/keyboard.jpg" alt="Custom keyboard" loading="lazy" />
                    <h3 class="project-title">CUSTOM MECHANICAL KEYBOARD</h3>
                    <p>
                        Built a fully custom, split ortholinear mechanical keyboard featuring 3D-printed cases, hand-soldered switch matrices, and custom firmware based on Arduino Nano and QMK.
                    </p>
                </a>

                <a href="drum-riser.html" class="project-card" aria-label="Drum Riser">
                    <img src="images/drum-riser.jpeg" alt="Drum Riser" loading="lazy" />
                    <h3 class="project-title">DRUM RISER</h3>
                    <p>
                        Built a custom drum riser to dampen sound, limit vibrations, and provide a stable platform for my e-kit. Constructed from plywood and tennis balls. Entire project cost less than $50.
                    </p>
                </a>
            </div>
        </section>

        <section id="hobbies" aria-label="Hobbies">
            <h2>&gt; HOBBIES_</h2>
            <ul class="hobbies-list">
                <li>[ SNOWBOARDING & MOTORCYCLE RIDING ]</li>
                <li>[ MUSIC: DRUMS, GUITAR, RECORDING ]</li>
                <li>[ FABRICATION & WOODWORKING ]</li>
                <li>[ ROBOTICS & MOTION SYSTEMS ]</li>
                <li>[ 3D PRINTING & CAD ]</li>
            </ul>
        </section>

        <section id="about" aria-label="About">
            <h2>&gt; ABOUT_</h2>
            <p>
                Junior studying Mechatronics Engineering Technology at Purdue University.
                Experience in software development, embedded systems, electrical engineering, and mechanical design.
                Passionate about aerospace, robotics, and creating things that interest me.
                Feel free to reach out!
            </p>
        </section>

        <section id="contact" aria-label="Contact">
            <h2>&gt; CONTACT_</h2>
            <p class="contact-info">
                EMAIL: <a href="mailto:matthewallen442@gmail.com">matthewallen442@gmail.com</a><br />
                LINKEDIN: <a href="https://linkedin.com/in/mattallenn" target="_blank"
                    rel="noopener noreferrer">linkedin.com/in/mattallenn</a>
            </p>
        </section>
    </main>

    <footer>
        [ THANKS FOR VISITING ] - MATT
    </footer>

    <script>
        // Starfield canvas animation
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');

        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const stars = [];
        const numStars = 200;
        const shootingStars = []; // Array to hold shooting stars
        let lastShootingStarTime = 0;
        const shootingStarMinInterval = 5000; // Minimum 5 seconds between shooting stars
        const shootingStarMaxInterval = 15000; // Maximum 15 seconds between shooting stars
        let nextShootingStarInterval = Math.random() * (shootingStarMaxInterval - shootingStarMinInterval) + shootingStarMinInterval;


        class Star {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.z = Math.random() * 2;
                this.size = Math.random() * 1.5;
                this.speed = Math.random() * 0.2 + 0.1;
                this.twinkleSpeed = Math.random() * 0.02 + 0.01;
                this.twinkleDirection = Math.random() > 0.5 ? 1 : -1;
                this.opacity = this.z;
                this.isTwinkling = Math.random() > 0.7;
            }

            update() {
                this.y += this.speed;

                // Wrap around instead of resetting
                if (this.y > canvas.height) {
                    this.y = -10;
                }
                if (this.y < -10) {
                    this.y = canvas.height;
                }

                // Twinkle effect
                if (this.isTwinkling) {
                    this.opacity += this.twinkleSpeed * this.twinkleDirection;
                    if (this.opacity >= this.z || this.opacity <= 0.2) {
                        this.twinkleDirection *= -1;
                    }

                    // Randomly stop twinkling
                    if (Math.random() > 0.995) {
                        this.isTwinkling = false;
                        this.opacity = this.z;
                    }
                } else {
                    // Randomly start twinkling
                    if (Math.random() > 0.998) {
                        this.isTwinkling = true;
                    }
                }
            }

            draw() {
                ctx.fillStyle = `rgba(100, 255, 218, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // NEW: Shooting Star class
        class ShootingStar {
            constructor() {
                this.reset();
            }

            reset() {
                // Start from top-left to bottom-right (or similar diagonal)
                this.x = -Math.random() * canvas.width * 0.5; // Start off-screen left
                this.y = Math.random() * canvas.height * 0.3; // Start from top third of screen
                this.length = Math.random() * 100 + 50; // Length of the tail
                this.speedX = Math.random() * 5 + 3; // Horizontal speed
                this.speedY = Math.random() * 2 + 1; // Vertical speed
                this.opacity = 1;
                this.brightness = Math.random() * 0.5 + 1.0; // Brighter than regular stars
                this.color = `rgba(255, 255, 255, ${this.opacity})`;
                this.fadeSpeed = 0.02; // How quickly it fades out after reaching max travel
                this.active = true;
            }

            update() {
                if (!this.active) return;

                this.x += this.speedX;
                this.y += this.speedY;

                // Fade out once it's mostly across the screen
                if (this.x > canvas.width * 0.6) { // Start fading when it's passed more than half the screen
                    this.opacity -= this.fadeSpeed;
                    this.color = `rgba(255, 255, 255, ${Math.max(0, this.opacity)})`;
                }

                if (this.opacity <= 0) {
                    this.active = false;
                }
            }

            draw() {
                if (!this.active) return;

                ctx.beginPath();
                ctx.moveTo(this.x, this.y);
                ctx.lineTo(this.x - this.length * (this.speedX / (this.speedX + this.speedY)), this.y - this.length * (this.speedY / (this.speedX + this.speedY)));
                ctx.strokeStyle = this.color;
                ctx.lineWidth = 1.5;
                ctx.lineCap = 'round';

                // === REMOVE THESE LINES ===
                // Add a glow effect
                // ctx.shadowColor = `rgba(255, 255, 255, ${this.opacity * 0.8})`;
                // ctx.shadowBlur = 10 * this.brightness;
                // === END OF REMOVAL ===

                ctx.stroke();

                // === REMOVE THIS LINE TOO ===
                // ctx.shadowBlur = 0; // Reset shadow blur
            }
        }


        for (let i = 0; i < numStars; i++) {
            stars.push(new Star());
        }

        function animate(currentTime) {
            ctx.fillStyle = 'rgba(10, 10, 15, 0.5)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            stars.forEach(star => {
                star.update();
                star.draw();
            });

            // NEW: Shooting star generation and update
            if (currentTime - lastShootingStarTime > nextShootingStarInterval) {
                shootingStars.push(new ShootingStar());
                lastShootingStarTime = currentTime;
                nextShootingStarInterval = Math.random() * (shootingStarMaxInterval - shootingStarMinInterval) + shootingStarMinInterval;
            }

            for (let i = shootingStars.length - 1; i >= 0; i--) {
                const sStar = shootingStars[i];
                sStar.update();
                sStar.draw();

                if (!sStar.active) {
                    shootingStars.splice(i, 1); // Remove inactive shooting stars
                }
            }

            requestAnimationFrame(animate);
        }

        animate(0); // Call animate with initial time

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

        // Scroll animations
        const sections = document.querySelectorAll('section');
        const header = document.getElementById('header');

        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        // Removed the problematic parallax effect as discussed
        // window.addEventListener('scroll', () => {
        //   scrollY = window.scrollY;
        //   canvas.style.transform = `translateY(${scrollY * 0.5}px)`;
        // });
    </script>

</body>

</html>